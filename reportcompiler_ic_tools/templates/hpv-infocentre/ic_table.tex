\begin{tabularx}{.85\textwidth}{
    \BLOCK{-if 'table_latex' in  ctx and 'column_spec' in ctx.table_latex}
        \VAR{ctx.table_latex.column_spec}
    \BLOCK{else}
        \BLOCK{-for c in ctx.columns}
            l
        \BLOCK{endfor-}
    \BLOCK{endif-}
}
\BLOCK{for c in ctx.columns -}
    \VAR{c | escape_tex} \VAR{'& ' if not loop.last else '\\\\ \\hline'}
\BLOCK{- endfor}

\BLOCK{for row in ctx.data.values}
 \BLOCK{for cell in row -}
  \VAR{-cell[0] | escape_tex-}\BLOCK{-if cell[1]}$^{\VAR{cell[1] | join(',')}}$\BLOCK{endif}
  \VAR{-' & ' if not loop.last else '\\\\'}
 \BLOCK{endfor}
\BLOCK{endfor}
\\
\end{tabularx}

% TODO: Implement date correctly

{\footnotesize
\BLOCK{if ctx.footer.sources}
    \textbf{Sources}: \\
    \BLOCK{for f in ctx.footer.sources}
        \BLOCK{if f.marker != ''}
            $^{\VAR{f.marker | escape_tex}}$
        \BLOCK{else}
            \textbf{-}
        \BLOCK{endif-}
        \VAR{f.text | escape_tex} \\
    \BLOCK{endfor}
    \\
\BLOCK{endif}

\BLOCK{if ctx.footer.notes}
    \textbf{Notes}: \\
    \BLOCK{for f in ctx.footer.notes}
        \BLOCK{if f.marker != ''}
            $^{\VAR{f.marker | escape_tex}}$
        \BLOCK{else}
            \textbf{-}
        \BLOCK{endif-}
        \VAR{f.text | escape_tex} \\
    \BLOCK{endfor}
    \\
\BLOCK{endif}

\BLOCK{if ctx.footer.methods}
    \textbf{Methods}: \\
    \BLOCK{for f in ctx.footer.methods}
        \BLOCK{if f.marker != ''}
            $^{\VAR{f.marker | escape_tex}}$
        \BLOCK{else}
            \textbf{-}
        \BLOCK{endif-}
        \VAR{f.text | escape_tex} \\
    \BLOCK{endfor}
    \\
\BLOCK{endif}

\BLOCK{if ctx.footer.years}
    \textbf{Years}: \\
    \BLOCK{for f in ctx.footer.years}
        \BLOCK{if f.marker != ''}
            $^{\VAR{f.marker | escape_tex}}$
        \BLOCK{else}
            \textbf{-}
        \BLOCK{endif-}
        \VAR{f.text | escape_tex} \\
    \BLOCK{endfor}
    \\
\BLOCK{endif}
}
